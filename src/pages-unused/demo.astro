---
import Layout from '../layouts/Layout.astro';
import Header from '@components/DemoHeader.astro';
import Highlight from '@components/DemoHighlight.astro';
import { Image } from 'astro:assets';
import ForkRoadIcon from '@assets/fork-road-flat.svg';
import UserCenteredIcon from '@assets/user-centered-flat-clean.svg';
import MinimalistIcon from '@assets/minimalist-icon-small.svg';
import Tag from '@/components/bits/Tag.astro';
import CardWithReadMore from '@/components/CardWithReadMore.astro';
import ScientistIcon from '@assets/scientist-icon-color-frames.svg';
import RetakeIcon from '@assets/retake-icon-flat.svg';
import AccomplishedIcon from '@assets/accomplished-color-flat.svg';
import CourseCard from '@components/DemoCourseCard.astro';
import DesignProblemIcon from '@assets/design-problem-flat.svg';
import DesignSolutionIcon from '@assets/design-solution-flat.svg';

const course = {
  type: 'Multi-Course Curriculum',
  audience: 'Researcher Using Data from the All of Us Research Program',
  myRole: 'Instructional Design Lead',
  partners: [
    'All of Us Research Program, National Institutes of Health (NIH)',
    'Sage Bionetworks',
    'Vanderbilt Institute for Clinical and Translational Research',
  ],
};

const tags = [
  'Compliance Training',
  'Ethics',
  'Scenario-Based Learning',
  'Data Security',
];
---

<Layout>
  <Header />
  <div class="bg-amber-50 py-4 text-center px-10 my-4">
    <h1 class="text-4xl font-bold mb-4">From Red Tape to Real Impact</h1>
    <h2 class="text-xl mb-4">
      Compliance training thatâ€™s not focused on <span
        class="font-bold text-amber-600">villains,</span
      > but on people who want to <span
        class="whitespace-nowrap text-white"
        style="  background-image: linear-gradient(to right, #F27121cc, #E94057cc, #8A2387cc);
      border-radius: 6px;
      padding: 3px 6px;"
        >avoid causing harm</span
      > when things get complicated.
    </h2>
  </div>
  <!-- Course Card  -->
  <CourseCard courseInfo={course}>
    <span slot="course-title"> Multi-Course Curriculum</span>
    <span slot="course-subtitle">
      Using Data from the <span class="font-style: italic">All of Us</span> Research
      Program
    </span>
  </CourseCard>
  <!-- tags -->
  <div class="flex flex-wrap gap-2 mt-4 justify-center">
    {
      tags.map((tag) => (
        <Tag label={tag} href={`/filter?tag=${encodeURIComponent(tag)}`} />
      ))
    }
  </div>
  <!-- Highligts card  -->
  <div
    class="block bg-violet-700 m-auto mx-2 my-2 lg:w-1/2 px-4 py-2 border-gray-200 rounded-lg shadow-sm"
  >
    <h3 class="text-xl text-amber-500 font-bold text-center">
      Course Highlights
    </h3>
    <Highlight>
      <div slot="icon">
        <ForkRoadIcon
          class="w-12 h-12 mx-auto -mt-8 mb-2"
          style="--icon-field-color: rgb(204,176,74); --icon-subject-color: rgb(111, 8, 230);"
        />
      </div>
      <span slot="highlight-title">Real-world Scenarios</span>
      <span slot="highlight-description"
        >Improves recall and application by providing a framework that helps
        learners integrate their own values and experiences into new learning.</span
      >
    </Highlight>
    <Highlight>
      <div slot="icon">
        <UserCenteredIcon
          class="w-12 h-12 mx-auto -mt-8 mb-2"
          style="--icon-field-color: rgb(204,176,74); --icon-subject-color: rgb(111, 8, 230);"
        />
      </div>
      <span slot="highlight-title">Learner-Centered Design</span>
      <span slot="highlight-description"
        >Aligns the course with learner goals and taps into intrinsic motivation
        for deeper engagement.</span
      >
    </Highlight>

    <Highlight>
      <div slot="icon">
        <MinimalistIcon
          class="w-12 h-12 mx-auto -mt-8 mb-2"
          style="--icon-field-color: rgb(204,176,74); --icon-subject-color: rgb(111, 8, 230);"
        />
      </div>
      <span slot="highlight-title">Minimalist Construction</span>
      <span slot="highlight-description"
        >Keeps style and delivery intentionally simple to ensure the system
        stays maintainable and responsive to rapidly evolving needs.</span
      >
    </Highlight>

    <!-- content -->
    <CardWithReadMore>
      <DesignProblemIcon slot="icon" />
      <div slot="title">Design Challenge</div>
      <div slot="content">
        How do we turn compliance training into an <strong
          >engaging, thought-provoking experience</strong
        > that challenges researchers to <strong
          >think critically about ethical decision-making</strong
        > rather than just memorizing policy rules?
      </div>
      <div slot="read-more">
        <p>
          At the heart of the <i>All of Us</i> Research Program is a
          <span
            class="text-gray-100 font-bold rounded-md whitespace-nowrap"
            style="background-image: linear-gradient(to right, #F27121cc, #E94057cc, #8A2387cc);
      padding: 3px 6px;"
            >core belief:</span
          >
          <strong>participants and researchers are equal partners</strong> in discovery.
          To uphold this principle, the program required researchers to fully understand
          their role in protecting privacy and preventing unethical research activities.
        </p>
        <p>
          As the program prepared to release its Controlled Tier dataset, an
          urgent need emerged:
        </p>
        <div
          class="text-gray-100 font-bold my-4 p-3 rounded-md"
          style="background-image: linear-gradient(to right, #F27121cc, #E94057cc, #8A2387cc);"
        >
          Before researchers could access sensitive participant data, they had
          to demonstrate a clear understanding of their ethical
          responsibilities.
        </div>
        <p>
          While traditional human-subject research training was available, many
          researchers viewed these courses as bureaucratic obligations rather
          than meaningful learning experiences.
        </p>
      </div>
    </CardWithReadMore>
    <CardWithReadMore>
      <DesignSolutionIcon slot="icon" />
      <div slot="title">Instructional Design Approach</div>
      <div slot="content">
        Ethical lapses in research result from pressures, biases, and
        justifications more than bad intentions. This training was designed to
        shift a researcher's focus from checking off compliance-boxes to
        maintaining strategies and guardrails that protect the integrity of
        their work and the privacy of research participants.
      </div>
      <div slot="read-more">
        <!-- item -->
        <div class="my-4">
          <div class="flex items-start gap-4">
            <div
              class="flex justify-center items-center w-10 h-10 px-2 rounded-full bg-blue-700"
            >
              <svg
                class="w-6 h-6 text-gray-100"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="none"
                viewBox="0 0 24 24"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 8h4V4m12 4h-4V4M4 16h4v4m12-4h-4v4"></path>
              </svg>
            </div>
            <div>
              <h3 class="mb-2 text-xl font-bold">
                Explore Real-World Justifications
              </h3>
              <p class="text-gray-500 dark:text-gray-400">
                Explore the biases, pressures, and systemic factors that have
                lead researchers to make unethical decisions.
              </p>
            </div>
          </div>
        </div>
        <!-- item -->
        <div class="my-4">
          <div class="flex items-start gap-4">
            <div
              class="flex justify-center items-center w-10 h-10 px-2 rounded-full bg-blue-700"
            >
              <svg
                class="w-6 h-6 text-gray-100"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="none"
                viewBox="0 0 24 24"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-width="2"
                  d="M4.5 17H4a1 1 0 0 1-1-1 3 3 0 0 1 3-3h1m0-3.05A2.5 2.5 0 1 1 9 5.5M19.5 17h.5a1 1 0 0 0 1-1 3 3 0 0 0-3-3h-1m0-3.05a2.5 2.5 0 1 0-2-4.45m.5 13.5h-7a1 1 0 0 1-1-1 3 3 0 0 1 3-3h3a3 3 0 0 1 3 3 1 1 0 0 1-1 1Zm-1-9.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z"
                ></path>
              </svg>
            </div>
            <div>
              <h3 class="mb-2 text-xl font-bold">Scenario-Based Assessment</h3>
              <p class="text-gray-500 dark:text-gray-400">
                Used case studies and interactive decision-making activities to
                challenge researchers to apply ethical reasoning in real-world
                research situations.
              </p>
            </div>
          </div>
        </div>
        <!-- item -->
        <div class="my-4">
          <div class="flex items-start gap-4">
            <div
              class="flex justify-center items-center w-10 h-10 px-2 rounded-full bg-blue-700"
            >
              <svg
                class="w-6 h-6 text-gray-100"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="none"
                viewBox="0 0 24 24"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="m7.171 12.906-2.153 6.411 2.672-.89 1.568 2.34 1.825-5.183m5.73-2.678 2.154 6.411-2.673-.89-1.568 2.34-1.825-5.183M9.165 4.3c.58.068 1.153-.17 1.515-.628a1.681 1.681 0 0 1 2.64 0 1.68 1.68 0 0 0 1.515.628 1.681 1.681 0 0 1 1.866 1.866c-.068.58.17 1.154.628 1.516a1.681 1.681 0 0 1 0 2.639 1.682 1.682 0 0 0-.628 1.515 1.681 1.681 0 0 1-1.866 1.866 1.681 1.681 0 0 0-1.516.628 1.681 1.681 0 0 1-2.639 0 1.681 1.681 0 0 0-1.515-.628 1.681 1.681 0 0 1-1.867-1.866 1.681 1.681 0 0 0-.627-1.515 1.681 1.681 0 0 1 0-2.64c.458-.361.696-.935.627-1.515A1.681 1.681 0 0 1 9.165 4.3ZM14 9a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"
                ></path>
              </svg>
            </div>
            <div>
              <h3 class="mb-2 text-xl font-bold">
                Leverage Expert Partnerships
              </h3>
              <p class="text-gray-500 dark:text-gray-400 list-disc">
                Worked with <strong>NIH research integrity experts</strong> to align
                training with federal policies and practices.<br />
                Partnered with <strong
                  >ELSI researchers from Sage Bionetworks</strong
                > to describe values and meaning in biomedical research practices
              </p>
            </div>
          </div>
        </div>
      </div>
    </CardWithReadMore>

    <!-- results -->
    <section
      class="project-results bg-amber-500 py-8 px-4 mx-2 m-auto border border-gray-200 rounded-lg shadow-sm"
    >
      <div
        class="col-span-2 space-y-8 md:grid md:grid-cols-2 md:gap-12 md:space-y-0"
      >
        <div>
          <ScientistIcon
            class="w-12 h-12"
            style="--icon-field-color: rgb(111, 8, 230); --icon-subject-color: rgb(6, 216, 253);"
          />
          <h3 class="mb-2 text-2xl font-bold text-violet-950">10K+ Learners</h3>
          <p class="font-light text-gray-800">
            Since 2020, 21K+ researchers have been given access to the course as
            part of their application to access All of Us data. About half of
            all applicants have become engaged learners
          </p>
        </div>
        <div>
          <AccomplishedIcon
            class="w-12 h-12"
            style="--icon-field-color: rgb(111, 8, 230); --icon-subject-color: rgb(6, 216, 253);"
          />
          <h3 class="mb-2 text-2xl font-bold dark:text-white">
            98% Completion
          </h3>
          <p class="font-light text-gray-800">
            Of those who engaged with the course, almost all completed the
            course and passed the rigerous final assessment.
          </p>
        </div>
        <div>
          <RetakeIcon
            class="w-12 h-12"
            style="--icon-subject-color: rgb(111, 8, 230); --icon-field-color: rgb(6, 216, 253);"
          />
          <h3 class="mb-2 text-2xl font-bold dark:text-white">
            Only 4 Retakes (0.05%)
          </h3>
          <p class="font-light text-gray-800">
            Only 4 of the 9023 learners who completed the course between 2020
            and 2024 were required to retake it due to policy violations: strong
            evidence of the course's lasting impact.
          </p>
        </div>
      </div>
    </section>

    <script type="module" is:inline>
      const button = document.getElementById('toggle-details');
      const details = document.getElementById('course-details');
      let isOpen = false;

      button.addEventListener('click', () => {
        isOpen = !isOpen;
        if (isOpen) {
          details.style.maxHeight = details.scrollHeight + 'px';
          button.textContent = 'Hide Details';
        } else {
          details.style.maxHeight = '0';
          button.textContent = 'See Details';
        }
      });
    </script>
  </div>
</Layout>
