---
import Layout from '@layouts/Layout.astro';
import PostCard from '@components/writing/PostCard.astro';
import FeedFilter from '@components/writing/FeedFilter.astro';
import { getAllPosts } from '@utilities/writing';

const posts = await getAllPosts();
const title = 'Writing | Amos Glenn';
const description = 'Essays and notes on learning design, instructional strategy, and thinking at scale.';
---

<Layout title={title} description={description}>
  <main class="container mx-auto px-4 py-12 max-w-6xl">
    <!-- Header -->
    <header class="mb-12 text-center">
      <h1 class="text-5xl font-bold mb-4 text-gray-900 dark:text-gray-100">
        Writing
      </h1>
      <p class="text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto">
        Essays and notes on learning design, instructional strategy, and thinking at scale.
      </p>
    </header>

    <!-- Filter Buttons -->
    <FeedFilter />

    <!-- Posts Grid -->
    {posts.length === 0 ? (
      <div class="text-center py-12">
        <p class="text-xl text-gray-600 dark:text-gray-400">
          No posts yet. Check back soon!
        </p>
      </div>
    ) : (      <div class="grid gap-8 md:grid-cols-2">
        {posts.map((post) => (
          <div data-post-type={post.data.type}>
            <PostCard post={post} />
          </div>
        ))}
      </div>
    )}

    <!-- Future: Pagination would go here if needed -->
  </main>
</Layout>
